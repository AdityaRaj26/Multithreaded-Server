# Multithreaded-Server
In this project we are going to build a multithreaded client-server application where multiple clients can connect to the server at the same time using the socket programming in the python programming language.

Server Implementation :

Firstly we will implement the server. For this we will need to import two libraries, namely socket which will be used for the network connection and  other is threading  which is necessary for performing various tasks at the same time.The next task is to define our connection data and to initialize our socket. We will need an IP-address for the host and a free port number for our server. In this project, we will use the localhost address (127.0.0.1) and the port 59000. Now we will define our socket, for that we need to pass two parameters. These define the type of socket we want to use. The first one (AF_INET) indicates that we are using an internet socket rather than an unix socket. The second parameter stands for the protocol we want to use. SOCK_STREAM. After defining the socket, we bind it to our host and the specified port by passing a tuple that contains both values. We then put our server into listening mode, so that it waits for clients to connect. At the end we create two empty lists, which we will use to store the connected clients and their alias later on. Now we will define a function which help us to broadcast messages and makes the code more readable. What it does is just sending a message to each client that is connected and therefore in the clients list. Now we will implement the handle client function which will be responsible for handling messages from the clients. This function is running in a while-loop. It won’t stop unless there is an exception because of something that went wrong. The function accepts a client as a parameter. Everytime a client connects to our server we run this function for it and it starts an endless loop.It receives the message from the client and broadcasting it to all connected clients. So when one client sends a message, everyone else can see this message. Now if for some reason there is an error with the connection to this client, we remove it and its alias, close the connection and broadcast that this client has left the chat. After that we break the loop and this thread comes to an end. When we are ready to run our server, we will execute the receive function. It also starts an endless while-loop which constantly accepts new connections from clients. Once a client is connected it sends the string ‘alias?’ to it, which will tell the client that its alias is requested. After that it waits for a response and appends the client with the respective alias to the lists. After that, we print and broadcast this information. Finally, we start a new thread that runs the previously implemented handling function for this particular client. Now we can just run this function and our server is done.

Client Implementation : 

Now we are going to implement our client. For this, we will again need to import the same libraries. Notice that this is now a second separate script.The first steps of the client are to choose a alias and to connect to our server. We will need to know the exact address and the port at which our server is running.Instead of binding the data and listening, we are connecting to an existing server.Now, a client needs to have two threads that are running at the same time. The first one will constantly receive data from the server and the second one will send our own messages to the server. So we will need two functions. Again we have an endless while-loop here. It constantly tries to receive messages and to print them onto the screen. If the message is ‘Alias’ however, it doesn’t print it but it sends its nickname to the server. In case there is some error, we close the connection and break the loop. It also runs in an endless loop which is always waiting for an input from the user. Once it gets some, it combines it with the alias and sends it to the server. That’s it. The last thing we need to do is to start two threads that run these two functions.

Summary of project :

This project is application of multithreaded server using python socket programming.
For our application, we had use the client-server architecture. This means that we will have multiple clients and one central server that hosts everything and provides the data for these clients.
Therefore, we will need to write two Python scripts. One will be for starting the server and one will be for the client. We will have to run the server first, so that there is a chat, which the clients can connect to. The clients themselves, are not going to directly communicate to each other but via the central server.


